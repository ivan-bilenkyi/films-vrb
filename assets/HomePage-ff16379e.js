import{s as y,u as p,a as m,j as e,b as S,c as P,r,g as R,C as b,M as I,d as w,e as A}from"./index-f44b61c7.js";import{s as G,W as L,S as T,a as q,F as W}from"./HomePage.styled-ea542af0.js";import{s as k,a as B,b as M,F as N,c as O}from"./index-0f4669ff.js";import{E as U,I as _}from"./DetailsPage.styled-b8a2fd7d.js";const D=y.input`
    padding: 8px 12px; 
    border: 1px solid #ccc; 
    border-radius: 10px; 
    outline: none; 
    color: #333;

`;function H(){const n=p(),l=m(G),a=o=>{const{value:u}=o.currentTarget,d=u.trim();n(S({key:"filter",value:d}))};return e.jsx(D,{type:"text",value:l,onChange:a,placeholder:"Search"})}const z=()=>{const n=p(),[l,a]=P(),o=m(k),[u,d]=r.useState([]),[f,j]=r.useState([]),[g,F]=r.useState(""),[v,C]=r.useState("");r.useEffect(()=>{const s=new Set,t=new Set;o.forEach(c=>{c.genre.forEach(E=>s.add(E));const h=c.release_date.split("-")[0];t.add(h)});const i=Array.from(t).sort((c,h)=>h-c);d(Array.from(s)),j(i)},[o]),r.useEffect(()=>{const s=new URLSearchParams(l),t=s.get("genre"),i=s.get("release");F(t||""),C(i||"")},[l]);const x=s=>t=>{const i=t.target.value,c=new URLSearchParams(l);c.set(s,i),a(c.toString()),n(S({key:s,value:i}))};return e.jsxs("div",{children:[e.jsxs("select",{value:g,onChange:x("genre"),children:[e.jsx("option",{value:"",children:"Select genre"}),u.map((s,t)=>e.jsx("option",{value:s,children:s},t))]}),e.jsxs("select",{value:v,onChange:x("release"),children:[e.jsx("option",{value:"",children:"Select release year"}),f.map((s,t)=>e.jsx("option",{value:s,children:s},t))]})]})};function X(){const n=p();m(B),m(M);const[l,a]=r.useState(!1);r.useEffect(()=>{n(R())},[n]);const o=(u,d)=>{n(A(d))};return e.jsxs(b,{children:[e.jsxs(L,{children:[e.jsx(T,{children:"Films"}),e.jsxs(q,{children:[e.jsx(z,{}),e.jsx(H,{}),e.jsx(U,{onClick:()=>a(!0),children:"Add Film"})]}),e.jsxs(I,{onClose:()=>a(!1),isOpen:l,children:[e.jsx(_,{children:"New Film"}),e.jsx(N,{onSendForm:o,onClose:()=>a(!1)}),e.jsx("button",{className:w.close_modal,onClick:()=>a(!1),children:e.jsx(O,{})})]})]}),e.jsx(W,{})]})}export{X as default};
